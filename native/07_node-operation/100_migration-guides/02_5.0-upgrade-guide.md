---
title: Leap 5.0 Upgrade Guide
---

The Leap 5.0 release is a major upgrade and requires a replay from genesis. 
This guide will walk you through the steps to upgrade your node.

## Planning for the upgrade

- **Do not** test upgrades on your production node, use a test node first
- The supported operating systems are:
  - **Ubuntu 20.04 Focal**
  - **Ubuntu 22.04 Jammy**
- **Do not** use deprecated plugins
- **Enable all** new required plugins
- **Make a backup** of your node

## Binaries vs building from source

If you want to build and install from source, you can follow the instructions in the [README](https://github.com/AntelopeIO/leap#build-and-install-from-source).

If you want to use the binaries, you can download them from the [releases page](https://github.com/AntelopeIO/leap/releases).

## New plugins

Leap 5.0 introduces new plugins that are required for node operation.


## New configuration options


## Upgrading your node

- Download / build binaries
- Before installing binaries, make sure you have a compatible snapshot (v6)
  - curl -X POST http://127.0.0.1:8888/v1/producer/create_snapshot
  - Must have `eosio::producer_api_plugin`
  - List places to get snapshots
  - Replaying blockchain history from the start is an alternative to using a snapshot, but it can take weeks to complete.
- Make sure you have removed old configuration options and plugins and added any new ones
- Warning: The following installation uses snapshots. Node operators who need to replay transactions for SHiP or block logs should know that a replay can take weeks to complete.
  - Raise  â€“sync-fetch-span while replaying, revert to default after replay
  - Use peers with a full blocks.log
  - Keep your p2p-peer-address list short, closest nodes
  - You can quickly sync from a single peer located in the same datacenter, even if it is not on the same version
    - You can do the same on the same machine, but you will need new /blocks and /state directories + more NVMe space
  - You can simply copy the blocks.log from another machine if it is compatible
- Update your binaries
  - Remove old binary: `dpkg --remove <old-pkg-name>`
  - Remove the state file: `rm <nodeos data directory>/state/*`
  - Update binaries: `dpkg -i filename.deb`
  - Start nodeos with the snapshot

After these steps, a node is ready for protocol activation

List of peer nodes with blocks.log files extending to genesis:
EOS:

eos.seed.eosnation.io:9876
peer1.eosphere.io:9876
peer2.eosphere.io:9876
p2p.genereos.io:9876

EOS Jungle4 Testnet:

peer1-jungle4.eosphere.io:9876
jungle4.seed.eosnation.io:9876
jungle4.genereos.io:9876
jungle.p2p.eosusa.io:9883

## New snapshot version

v7

Questions:
- Do operators need to delete blocks.log and SHiP?
- 
